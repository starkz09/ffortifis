String.prototype.endsWith||(String.prototype.endsWith=function(t){var e=this.length-t.length;return e>=0&&this.lastIndexOf(t)===e}),$(function(){function t(){$(".multi-currency-price").hide(),$(".multi-currency-price.price-"+s).show(),$(".checkout-link").each(function(){var t=$(this).attr("href");t=c("currency",f,t),$(this).attr("href",t)});var t=[];if(l.each(function(){var e=$(this).attr("data-pid");t.indexOf(e)===-1&&t.push(e)}),$(".default-currency-id-form-field").val(f),void 0!==y){var e="Prices in "+y;void 0!==s&&(e=e+" / "+s),$(".prices-currency-label").html(e)}if(t.length>0){var a={action:"whmcs-connector/products/get-products",productIds:t};$.ajax({url:"",cache:!1,data:a,type:"GET",dataType:"json",success:function(t){$.each(t,function(t,e){var a=e.pid,n=e.paytype,i=e.pricing[s],c=e.configoptions.configoption,o=null,d=null,u=e.savings;void 0!==e.configoptions_from&&(d=e.configoptions_from),$.each(c,function(t,e){var r=e.name;"Years"==r&&(o=e.options.option)}),r(a,n,i,o,d,u)})}})}var n=document.querySelectorAll("option.dynamic-bundle-price");if(n)for(var i=0;i<n.length;i++){var o=n[i],d=o.getAttribute("data-"+s.toLowerCase());d&&(o.text=d)}}function e(t){var e=new RegExp(/^\d+/),r=e.exec(t);return r[0]}function r(t,r,a,i,c,o){l.each(function(){var d=$(this).attr("data-element");if(void 0===d&&(d="div"),"option"===d){var u="",l=$(this).attr("data-pid");if(l==t){if("onetime"===r){var f=$(this).attr("data-billingcycle"),y=null,h="";if($.each(i,function(t,e){e.id==f&&(y=e.pricing,h=e.name)}),void 0!==y&&null!==y){var v=y[s];if(void 0!==v){var p=v.monthly,m=e(h);if(void 0!==m&&null!==m&&m>1&&(p/=m),u=h+": "+n(p,s)+" / year",void 0!==o&&o.hasOwnProperty(s)){var g=o[s];g.hasOwnProperty(m)&&(u=u+" (Save "+n(g[m],s)+")")}}}}if("recurring"===r){var w=$(this).attr("data-billingcycle"),p=a[w];void 0!==p&&("monthly"===w?(p=12*p,u="Monthly: "+n(p,s)+" / year"):"quarterly"===w?(p=4*p,u="Quarterly: "+n(p,s)+" / year"):"semiannually"===w?(p=2*p,u="Semiannually: "+n(p,s)+" / year"):"annually"===w?u="1 year: "+n(p,s)+" / year":"biennially"===w?(p/=2,u="2 years: "+n(p,s)+" / year"):"triennially"===w&&(p/=3,u="3 years: "+n(p,s)+" / year"))}}""!==u&&$(this).html(u)}else{var l=$(this).attr("data-pid");if(l==t){var C=$(this).attr("data-priceType");if("from"===C&&"onetime"===r)if(null!==c){var x=c[s];void 0!==x&&$(this).html(n(x,s))}else if(null!==a&&void 0!==a.from){var x=a.from;$(this).html(n(x,s))}if("from"===C&&"recurring"===r){var x=a.from;$(this).html(n(x,s))}}}})}function a(e){var r=e.attr("id"),a=window["productPricingData_"+r];if(void 0!==a){var i=$(".radio-option input[type=radio]:checked",e).attr("data-years"),c=$(".savings-text-container",e),o="";$(".multi-currency-price",e).each(function(){var t=$(this).attr("data-currencycode"),e=$(this);$.each(a.prices,function(r,a){if(r==t){var c=a[i];void 0!==c&&e.html(n(c,t))}})}),$.each(a.savings,function(t,e){var r=e[i];if(void 0!==r){var a="";t!==s&&(a=" hidden "),o=o+'<span data-currencycode="'+t+'" class="multi-currency-price price-'+t+a+'">'+n(r,t)+"</span>"}}),""!=o?(o="Save <strong>"+o+"</strong> when you get "+i+" years",c.html(o).removeClass("hidden"),t()):c.html("").addClass("hidden")}}function n(t,e){""===e&&(e=s);var r=new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(t);return r.endsWith(".00")&&(r=r.replace(".00","")),r}function i(){$(".currency-selector__default .text",d).html(y),$("li",d).removeClass("active"),$('li[data-currency="'+s+'"]',d).addClass("active"),d.attr("data-currencycode",s),d.attr("data-whmcscurrencyid",f),d.attr("data-currencyname",y)}function c(t,e,r){r||(r=window.location.href);var a,n=new RegExp("([?&])"+t+"=.*?(&|#|$)(.*)","gi");if(n.test(r))return"undefined"!=typeof e&&null!==e?r.replace(n,"$1"+t+"="+e+"$2$3"):(a=r.split("#"),r=a[0].replace(n,"$1$3").replace(/(&|\?)$/,""),"undefined"!=typeof a[1]&&null!==a[1]&&(r+="#"+a[1]),r);if("undefined"!=typeof e&&null!==e){var i=r.indexOf("?")!==-1?"&":"?";return a=r.split("#"),r=a[0]+i+t+"="+e,"undefined"!=typeof a[1]&&null!==a[1]&&(r+="#"+a[1]),r}return r}function o(){var t=new Date,e=t.getFullYear(),r=t.getMonth(),a=t.getDate();return new Date(e+1,r,a)}var d=$(".currency-selector"),u=$(".currency-selector-dropdown"),l=$(".dynamic-price"),s="USD",f=1,y="Us Dollars",h=null;if(void 0!==d&&(s=d.attr("data-currencycode"),f=d.attr("data-whmcscurrencyid"),y=d.attr("data-currencyname"),h=docCookies.getItem("currency_id")),null===h)docCookies.setItem("currency_id",f,o(),"/");else{var v=$("li",u);v.each(function(){$(this).attr("data-whmcscurrencyid")===h&&(s=$(this).attr("data-currencycode"),f=$(this).attr("data-whmcscurrencyid"),y=$(this).attr("data-currencyname"))}),i(),t()}d.hoverIntent(function(){u.fadeIn(50)},function(){u.fadeOut(50)}),$("button",u).click(function(e){e.preventDefault(),$("li",d).removeClass("active"),$li=$(this).parent(),$li.addClass("active"),u.fadeOut(50),s=$li.attr("data-currencycode"),f=$li.attr("data-whmcscurrencyid"),y=$li.attr("data-currencyname");var r=o();docCookies.setItem("currency_id",f,r,"/"),i(),t()});var p=document.documentElement;p&&p.addEventListener("setCurrencyFromVue",function(e){var r=e.detail.currencyCode||null,a=e.detail.currencyId||null,n=e.detail.currencyName||null;r&&a&&n&&(s=r,f=a,y=n,i(),t())},!1);var m=$(".product-header-alt");m.each(function(){var t=$(this),e=$(".radio-option input[type=radio]",t);e.change(function(e){e.preventDefault(),a(t)}),a(t)})});